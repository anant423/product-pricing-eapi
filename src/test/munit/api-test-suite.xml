<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:munit="http://www.mulesoft.org/schema/mule/munit" xmlns:munit-tools="http://www.mulesoft.org/schema/mule/munit-tools"
	xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xsi:schemaLocation="
		http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
		http://www.mulesoft.org/schema/mule/munit http://www.mulesoft.org/schema/mule/munit/current/mule-munit.xsd
		http://www.mulesoft.org/schema/mule/munit-tools  http://www.mulesoft.org/schema/mule/munit-tools/current/mule-munit-tools.xsd">
	<munit:config name="api-test-suite.xml" />
	<munit:test name="api-test-suite-api-main" doc:id="459acce4-2753-4e78-874c-0528d7cea346" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="0e0c7c0c-7b04-4f8e-ba92-4c04c1d67b78" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to api-main" doc:id="1534c9da-ef3b-44af-b96a-1f542b3b9b5e" name="api-main"/>
		</munit:execution>
	</munit:test>
	<munit:test name="api-test-suite-apikit-bad-request" doc:id="6f9ab1ae-a3a1-496c-b687-52337938dede" description="Test" expectedErrorType="APIKIT:BAD_REQUEST">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="b3493446-815f-457d-9fd3-687ca72e3421" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:BAD_REQUEST" />
				</munit-tools:then-return>
			
</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to api-main" doc:id="bab2743b-258e-408b-abfa-73da450454e4" name="api-main"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-equals doc:name="Assert equals" doc:id="00e0bfeb-030c-4478-b080-a960c1df7b5c" actual="#[payload.statusCode]" expected="400"/>
		</munit:validation>
	
</munit:test>
	<munit:test name="api-test-suite-apikit-not-found" doc:id="52ecd983-2c0c-4d25-8242-9c4cba891201" description="Test" expectedErrorType="APIKIT:NOT_FOUND">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="3f0f6c9b-cdb3-424c-9ff8-574685aaada9" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:NOT_FOUND" />
				</munit-tools:then-return>
			
</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to api-main" doc:id="d9c82196-5a2e-4864-a7d2-c58520716f9c" name="api-main"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-equals doc:name="Assert equals" doc:id="8d553edb-9f48-4c1f-9c44-6d57b6fdf6db" actual="#[payload.statusCode]" expected="404"/>
		</munit:validation>
	
</munit:test>
	<munit:test name="api-test-suite-apikit-method-not-allowed" doc:id="5262fe1b-bdca-4fa1-aa98-a6e08b6dc154" description="Test" expectedErrorType="APIKIT:METHOD_NOT_ALLOWED">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="e6f72018-1600-4ab9-842b-12d3b51fc776" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:METHOD_NOT_ALLOWED" />
				</munit-tools:then-return>
			
</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to api-main" doc:id="0d1e4e56-b333-43e2-b7b6-19bf01429f81" name="api-main"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-equals doc:name="Assert equals" doc:id="15c54c44-81a1-45d5-adb4-dd82120a3ad5" actual="#[payload.statusCode]" expected="405"/>
		</munit:validation>
	
</munit:test>
	<munit:test name="api-test-suite-apikit-not-acceptable" doc:id="181d1b8d-89a9-440c-977a-d1661b188866" description="Test" expectedErrorType="APIKIT:NOT_ACCEPTABLE">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="f3765fde-9183-4bf8-9954-6459a39862bd" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:NOT_ACCEPTABLE" />
				</munit-tools:then-return>
			
</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to api-main" doc:id="46bf6c68-61a3-4f1c-a0c8-478a5d2e7029" name="api-main"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-equals doc:name="Assert equals" doc:id="4ae0619c-cf92-48f4-b04f-04bc63ccc1df" actual="#[payload.statusCode]" expected="406"/>
		</munit:validation>
	
</munit:test>
	<munit:test name="api-test-suite-apikit-unsupported-media-type" doc:id="23263e18-5ffa-4e31-86a9-558828a9a41b" description="Test" expectedErrorType="APIKIT:UNSUPPORTED_MEDIA_TYPE">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="13b72c69-a7c0-4593-91dc-281c6049867a" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:UNSUPPORTED_MEDIA_TYPE" />
				</munit-tools:then-return>
			
</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to api-main" doc:id="c4199e91-e98e-4e7f-a74f-049a72f8a52a" name="api-main"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-equals doc:name="Assert equals" doc:id="7af269b0-995b-45b2-9694-8a5c6ff774bf" actual="#[payload.statusCode]" expected="415"/>
		</munit:validation>
	
</munit:test>
	<munit:test name="api-test-suite-apikit-not-implemented" doc:id="f8702945-83d5-4146-a96e-6e074b6c2de6" description="Test" expectedErrorType="APIKIT:NOT_IMPLEMENTED">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="1f0de865-1f8d-4f19-af78-2d5763ab3cc3" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:NOT_IMPLEMENTED" />
				</munit-tools:then-return>
			
</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to api-main" doc:id="86e84b0b-0bd3-4cb7-8077-36fd28e300c8" name="api-main"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-equals doc:name="Assert equals" doc:id="f86fff83-98eb-4c3d-ac30-a0529f9bb473" actual="#[payload.statusCode]" expected="501"/>
		</munit:validation>
	
</munit:test>
<munit:test name="api-test-suite-apikit-ext-retry-exhausted" doc:id="652e07a3-7e46-468c-9873-3b9249b47c45" description="Test" expectedErrorType="EXT:RETRY_EXHAUSTED">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="3b6ae201-ec64-4284-a332-a349096b0a49" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="EXT:RETRY_EXHAUSTED" />
				</munit-tools:then-return>
			

</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to api-main" doc:id="4b85c354-5e5c-4b3f-8026-89bd2293b4a2" name="api-main"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-equals doc:name="Assert equals" doc:id="eea9a251-9702-47d4-80aa-03a8f4d1d62d" actual="#[payload.statusCode]" expected="501"/>
		</munit:validation>
	
</munit:test>
<munit:test name="api-test-suite-apikit-ext-any" doc:id="f180cb56-7bef-4a8d-a406-115b762f636b" description="Test" expectedErrorType="EXT:ANY">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="988232de-8591-4dea-9bf2-bb1e8869c3d0" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="EXT:ANY" />
				</munit-tools:then-return>
			

</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to api-main" doc:id="b186748f-3f40-4b20-ab26-8d1e6f0861f3" name="api-main"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-equals doc:name="Assert equals" doc:id="2cdba71a-0991-4a23-a6da-a0af7a679de9" actual="#[payload.statusCode]" expected="501"/>
		</munit:validation>
	
</munit:test>
	<munit:test name="api-test-suite-apikit-any" doc:id="f06119aa-ed9c-4446-bc84-f344e039efd6" description="Test" expectedErrorType="ANY">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="823b6ff4-8c68-4359-8dbf-bf1db5d6bf85" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="ANY" />
				</munit-tools:then-return>
			
</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to api-main" doc:id="59517ea5-b49f-4e2d-b9fe-676a889f0f26" name="api-main"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-equals doc:name="Assert equals" doc:id="227aca4e-b9eb-4943-ab1c-94947e378c30" actual="#[payload.statusCode]" expected="500"/>
		</munit:validation>
	
</munit:test>
	<munit:test name="api-test-suite-delete:\product\delete:application\json:api-configTest" doc:id="03e0f0fd-49fa-417f-b717-c255a53dd7ad" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="689e1216-0344-4020-8b53-c050467ae1dd" processor="flow-ref">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="post-delete-product-flow" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="85bad1b3-fc7f-4b6d-8e4a-77cc17979611" attributeName="doc:id" />
				</munit-tools:with-attributes>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to delete:\product\delete:application\json:api-config" doc:id="05ee1e01-3bb1-4d51-a070-049ff01b107e" name="delete:\product\delete:application\json:api-config"/>
		</munit:execution>
	</munit:test>
	<munit:test name="api-test-suite-patch:\product\update:application\json:api-configTest" doc:id="49b2906e-50f2-4440-a89b-959b6e713665" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="c45206c3-7a76-4f05-bdb9-3d97781aad7f" processor="flow-ref">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="post-update-product-flow" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="b978a729-0fca-430c-a4f0-6b84b10fdf4f" attributeName="doc:id" />
				</munit-tools:with-attributes>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to patch:\product\update:application\json:api-config" doc:id="7a8c6327-1574-43ea-bfe4-b6e0a7dcb662" name="patch:\product\update:application\json:api-config"/>
		</munit:execution>
	</munit:test>
	<munit:test name="api-test-suite-get:\product\retrieve:api-configTest" doc:id="79df0872-c1f0-4505-b2a3-6c47ae6daa99" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="9939eb24-555d-44c1-8c35-0b59ef76b453" processor="flow-ref">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="post-retrieve-product-flow" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="b65e9ff9-ee26-4970-91a2-cebe89b4641d" attributeName="doc:id" />
				</munit-tools:with-attributes>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to get:\product\retrieve:api-config" doc:id="e07404a3-656e-4bfc-904c-f753bc0ea231" name="get:\product\retrieve:api-config"/>
		</munit:execution>
	</munit:test>
	<munit:test name="api-test-suite-post:\product\create:application\json:api-configTest" doc:id="10050305-aa8f-49c8-b1ea-bdf28f02aeb3" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="41d83026-228a-4f12-a5ec-2410482c158c" processor="flow-ref">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="post-create-product-flow" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="3a2d2942-3e3d-4232-b452-3e7975ca2317" attributeName="doc:id" />
				</munit-tools:with-attributes>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to post:\product\create:application\json:api-config" doc:id="872ea509-d610-41fa-86ca-f22c421f1b95" name="post:\product\create:application\json:api-config"/>
		</munit:execution>
	</munit:test>
	<munit:test name="api-test-suite-api-console" doc:id="c67f7c96-8a88-47c8-87ee-2be3b002911a" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="c30ff557-17ed-4458-9f83-f73e8a3edcde" processor="apikit:console">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to api-console" doc:id="801afb97-6d03-4974-8519-ee4a5b2aed34" name="api-console"/>
		</munit:execution>
	</munit:test>
	<munit:test name="api-test-suite-api-console-error" doc:id="1cd80419-b79d-4629-ad6d-a36e7ddde654" description="Test" expectedErrorType="APIKIT:NOT_FOUND">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="8f14f66b-2edc-4860-95ab-e08d34578cc4" processor="apikit:console">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:NOT_FOUND" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to api-console" doc:id="a920f0e8-2216-439b-a0d2-45d8da6fb125" name="api-console"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-equals doc:name="Assert equals" doc:id="d092bd8f-6c58-448f-9385-cf175719813a" actual="#[payload.statusCode]" expected="404"/>
		</munit:validation>
	
</munit:test>


</mule>
